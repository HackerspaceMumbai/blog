---
import Layout from "../components/Layout.astro";
import HeroSection from "../components/HeroSection.astro";
import EventsSection from "../components/EventsSection.astro";
import BlogSection from "../components/BlogSection.astro";
import AboutSection from "../components/AboutSection.astro";
import JoinSection from "../components/JoinSection.astro";
import SponsorsSection from "../components/SponsorsSection.astro";
import GallerySection from "../components/GallerySection.astro";
import NewsletterSection from "../components/NewsletterSection.astro";
import { getCollection } from "astro:content";

// Get the most recent blog posts
const posts = (await getCollection("posts"))
  .sort((a, b) => new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf())
  .slice(0, 3); // Display only the 3 most recent posts

// Sample upcoming events data (to be replaced with real data/API integration)
const upcomingEvents = [
  {
    title: "Monthly Tech Meetup",
    date: "August 15, 2025",
    location: "WeWork, Bandra Kurla Complex",
    description: "Join us for talks on Rust, WebAssembly, and modern web development practices.",
    rsvpLink: "https://meetup.com/hackerspace-mumbai/events/123456789",
    coverImage: "/images/social-preview.jpg",
  },
  {
    title: "Open Source Saturday",
    date: "August 28, 2025",
    location: "Microsoft Reactor, Powai",
    description: "Contribute to open source projects with guidance from experienced maintainers.",
    rsvpLink: "https://meetup.com/hackerspace-mumbai/events/987654321",
    coverImage: "/images/hero-background.jpg",
  }
];

// Sample testimonials
const testimonials = [
  {
    quote: "Hackerspace Mumbai helped me grow as a developer and connect with like-minded tech enthusiasts.",
    author: "Priya S., Software Engineer",
  },
  {
    quote: "The meetups are incredibly informative and welcoming to developers of all skill levels.",
    author: "Raj M., Full Stack Developer",
  }
];

// Sample stats
const stats = {
  yearsRunning: 14,
  meetupsHosted: 110,
  membersCount: "2,500+",
  projectsSupported: 35,
};

// Sample sponsors - Enhanced for future features
const sponsors = [
  { 
    name: "Microsoft", 
    logo: "/assets/images/microsoftlogo.svg",
    url: "https://microsoft.com",
    tier: "platinum" as const,
    description: "Leading technology company providing cloud services and developer tools",
    featured: true
  },
  { 
    name: "Google", 
    logo: "/assets/images/google_logo.svg",
    url: "https://google.com",
    tier: "bronze" as const,
    description: "Global technology leader in search, cloud computing, and AI",
    featured: false
  },
  { 
    name: "BookMyShow", 
    logo: "/assets/images/bookmyshow_logo.svg",
    url: "https://bookmyshow.com",
    tier: "platinum" as const,
    description: "India's largest ticketing platform for events, movies, and experiences",
    featured: true
  },
  { 
    name: "Directi", 
    logo: "/assets/images/directi_logo.svg",
    url: "https://directi.com",
    tier: "platinum" as const,
    description: "Global technology leader in search, cloud computing, and AI",
    featured: true
  },
  //Add codebrabbit as silver sponsor
  { 
    name: "CodeRabbit",
    logo: "/assets/images/coderabbit_logo.svg",
    url: "https://coderabbit.com",
    tier: "silver" as const,
    description: "Innovative software development company specializing in web and mobile solutions",
    featured: true
  },
  { 
    name: "wework", 
    logo: "/assets/images/wework_logo.svg",
    url: "https://wework.co.in",
    tier: "community" as const,
    description: "Global technology leader in search, cloud computing, and AI",
    featured: false
  },

  // Add neo4j as community sponsor
  { 
    name: "Neo4j",
    logo: "/assets/images/neo4j_logo.svg",
    url: "https://neo4j.com",
    tier: "community" as const,
    description: "Leading graph database platform for building intelligent applications",
    featured: false
  },

  // Add langdb.ai as community sponsor
  { 
    name: "langdb.ai",
    logo: "/assets/images/langdb_logo.svg",
    url: "https://langdb.ai",
    tier: "community" as const,
    description: "The Fastest Enterprise AI Gateway",
    featured: false
  }
];

// SEO and social sharing metadata
export const title = "Hackerspace Mumbai - Mumbai's Largest Open Source Community";
export const description = "Hackerspace Mumbai is the largest open source community in Mumbai, hosting the city's longest-running tech meetup. Join us for events, workshops, and collaborative learning!";
export const tags = ["open source", "mumbai", "tech meetup", "developers", "community", "programming", "hackathon", "workshops"];
export const canonical = "https://hackmum.in/";
---

<Layout 
  title={title} 
  description={description}
  tags={tags}
  canonical={canonical}
  type="website"
>
  <!-- Main page heading for screen readers - removed duplicate H1 -->
  <!-- H1 is now in HeroSection component -->

  <HeroSection />

  <EventsSection events={upcomingEvents} />

  <BlogSection posts={posts} />

  <AboutSection stats={stats} testimonials={testimonials} />

  <JoinSection />

  <SponsorsSection sponsors={sponsors} />

  <GallerySection />

  <NewsletterSection />
</Layout>
