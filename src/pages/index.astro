---
import Layout from "../components/Layout.astro";
import HeroSection from "../components/HeroSection.astro";
import EventsSection from "../components/EventsSection.astro";
import BlogSection from "../components/BlogSection.astro";
import AboutSection from "../components/AboutSection.astro";
import JoinSection from "../components/JoinSection.astro";
import SponsorsSection from "../components/SponsorsSection.astro";
import GallerySection from "../components/GallerySection.astro";
import NewsletterSection from "../components/NewsletterSection.astro";
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

// Get the most recent blog posts
const posts = (await getCollection("posts"))
  .sort((a, b) => new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf())
  .slice(0, 3); // Display only the 3 most recent posts

// Sample upcoming events data (to be replaced with real data/API integration)
const upcomingEvents = [
  {
    title: "Monthly Tech Meetup",
    date: "August 15, 2025",
    location: "WeWork, Bandra Kurla Complex",
    description: "Join us for talks on Rust, WebAssembly, and modern web development practices.",
    rsvpLink: "https://meetup.com/hackerspace-mumbai/events/123456789",
  },
  {
    title: "Open Source Saturday",
    date: "August 28, 2025",
    location: "Microsoft Reactor, Powai",
    description: "Contribute to open source projects with guidance from experienced maintainers.",
    rsvpLink: "https://meetup.com/hackerspace-mumbai/events/987654321",
  }
];

// Sample testimonials
const testimonials = [
  {
    quote: "Hackerspace Mumbai helped me grow as a developer and connect with like-minded tech enthusiasts.",
    author: "Priya S., Software Engineer",
  },
  {
    quote: "The meetups are incredibly informative and welcoming to developers of all skill levels.",
    author: "Raj M., Full Stack Developer",
  }
];

// Sample stats
const stats = {
  yearsRunning: 7,
  meetupsHosted: 84,
  membersCount: "2,500+",
  projectsSupported: 35,
};

// Sample sponsors
const sponsors = [
  { name: "Microsoft", logo: "microsoft.png" },
  { name: "Google", logo: "google.png" },
  { name: "DigitalOcean", logo: "digitalocean.png" },
];
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    
    <!-- SEO and social sharing metadata -->
    <title>Hackerspace Mumbai - Mumbai's Largest Open Source Community</title>
    <meta name="description" content="Hackerspace Mumbai is the largest open source community in Mumbai, hosting the city's longest-running tech meetup. Join us for events, workshops, and collaborative learning!" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://hackmum.in/" />
    <meta property="og:title" content="Hackerspace Mumbai - Mumbai's Largest OSS Community" />
    <meta property="og:description" content="Join Mumbai's largest open source community for tech meetups, workshops and collaborative learning!" />
    <meta property="og:image" content="/social-preview.jpg" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="http://hackmum.in/" />
    <meta property="twitter:title" content="Hackerspace Mumbai - Mumbai's Largest OSS Community" />
    <meta property="twitter:description" content="Join Mumbai's largest open source community for tech meetups, workshops and collaborative learning!" />
    <meta property="twitter:image" content="/social-preview.jpg" />
    
    <style>
      .hero {
        background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.9)), url('/hero-background.jpg');
        background-size: cover;
        background-position: center;
      }
      
      .card {
        transition: transform 0.3s ease;
      }
      
      .card:hover {
        transform: translateY(-5px);
      }
      
      .stats-item {
        border-right: 1px solid rgba(255, 255, 255, 0.1);
      }
      
      .stats-item:last-child {
        border-right: none;
      }
    </style>
  </head>
  <body>
    <Layout>
      <HeroSection />

      <EventsSection events={upcomingEvents} />

      <BlogSection posts={posts} />

      <AboutSection stats={stats} testimonials={testimonials} />

      <JoinSection />

      <SponsorsSection sponsors={sponsors} />

      <GallerySection />

      <NewsletterSection />
    </Layout>
  </body>
</html>
