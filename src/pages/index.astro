---
import Layout from "../components/Layout.astro";
import HeroSection from "../components/HeroSection.astro";
import heroBackground from '../assets/images/hero_background.jpg';
import vscodeDevDayImage from '../assets/images/vscode_devday_mumbai.png';
import EventsSection from "../components/EventsSection.astro";
import BlogSection from "../components/BlogSection.astro";
import AboutSection from "../components/AboutSection.astro";
import JoinSection from "../components/JoinSection.astro";
import SponsorsSection from "../components/SponsorsSection.astro";
import GallerySection from "../components/GallerySection.astro";
import NewsletterSection from "../components/NewsletterSection.astro";
import { getCollection } from "astro:content";

// Get the most recent blog posts
const posts = (await getCollection("posts"))
  .sort((a, b) => new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf())
  .slice(0, 3); // Display only the 3 most recent posts

// Sample upcoming events data (to be replaced with real data/API integration)
const upcomingEvents = [
  {
    title: "VS Code Dev Day - Mumbai",
    date: "September 6th, 2025",
    location: "Microsoft Mumbai, Kalina",
    description: "Join us for VS Code Dev Days â€“ a hands-on, developer-focused event designed to supercharge your coding skills with Visual Studio Code and the power of GitHub Copilot.",
    rsvpLink: "https://aka.ms/vscodedevdays/mumbai",
    coverImage: vscodeDevDayImage,
  }
];

// Sample testimonials
const testimonials = [
  {
    quote: "Hackerspace Mumbai helped me grow as a developer and connect with like-minded tech enthusiasts.",
    author: "Priya S., Software Engineer",
  },
  {
    quote: "The meetups are incredibly informative and welcoming to developers of all skill levels.",
    author: "Raj M., Full Stack Developer",
  }
];

// Sample stats
const stats = {
  yearsRunning: 14,
  meetupsHosted: 110,
  membersCount: "2,500+",
  projectsSupported: 35,
};

// Sample sponsors - Enhanced for future features
const sponsors = [
  { 
    name: "Microsoft", 
    logo: "/images/microsoft_logo.svg",
    url: "https://microsoft.com",
    tier: "platinum" as const,
    description: "Global leader in software, cloud computing, and developer tools including Azure, GitHub, and Visual Studio.",
    featured: true
  },
  { 
    name: "Google", 
    logo: "/images/google_logo.svg",
    url: "https://google.com",
    tier: "bronze" as const,
    description: "Innovator in search, advertising, Android, and cloud services powering billions worldwide.",
    featured: false
  },
  { 
    name: "BookMyShow", 
    logo: "/images/bookmyshow_logo.svg",
    url: "https://bookmyshow.com",
    tier: "platinum" as const,
    description: "India's largest online ticketing platform for movies, events, and live experiences.",
    featured: true
  },
  { 
    name: "Directi", 
    logo: "/images/directi_logo.svg",
    url: "https://directi.com",
    tier: "platinum" as const,
    description: "Global internet products company building scalable web infrastructure and communication tools.",
    featured: true
  },
  //Add codebrabbit as silver sponsor
  { 
    name: "CodeRabbit",
    logo: "/images/coderabbit_logo.svg",
    url: "https://coderabbit.com",
    tier: "silver" as const,
    description: "Innovative software development company specializing in web and mobile solutions.",
    featured: true
  },
  { 
    name: "WeWork",
    url: "https://wework.co.in",
    tier: "community" as const,
    description: "Flexible workspace provider offering coworking spaces and business solutions globally.",
    featured: false
  },

  // Add neo4j as community sponsor
  { 
    name: "Neo4j",
    url: "https://neo4j.com",
    tier: "community" as const,
    description: "World's leading graph database platform for connected data and analytics.",
    featured: false
  },

  // Add langdb.ai as community sponsor
  { 
    name: "langdb.ai",
    logo: "/images/langdbai_logo.svg",
    url: "https://langdb.ai",
    tier: "community" as const,
    description: "Enterprise AI gateway enabling fast, secure, and scalable language data solutions.",
    featured: false
  }
];

// SEO and social sharing metadata
export const title = "Hackerspace Mumbai - Mumbai's Largest Open Source Community";
export const description = "Hackerspace Mumbai is the largest open source community in Mumbai, hosting the city's longest-running tech meetup. Join us for events, workshops, and collaborative learning!";
export const tags = ["open source", "mumbai", "tech meetup", "developers", "community", "programming", "hackathon", "workshops"];
export const canonical = "https://hackmum.in/";
---

<Layout 
  title={title} 
  description={description}
  tags={tags}
  canonical={canonical}
  type="website"
>
  <!-- Main page heading for screen readers - removed duplicate H1 -->
  <!-- H1 is now in HeroSection component -->

  <HeroSection heroImage={heroBackground} />

  <EventsSection events={upcomingEvents} />

  <BlogSection posts={posts} />

  <AboutSection stats={stats} testimonials={testimonials} />

  <JoinSection />

  <SponsorsSection sponsors={sponsors} />

  <GallerySection />

  <NewsletterSection />
</Layout>
