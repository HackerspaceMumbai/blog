---
import Layout from "../components/Layout.astro";
import HeroSection from "../components/HeroSection.astro";
import EventsSection from "../components/EventsSection.astro";
import BlogSection from "../components/BlogSection.astro";
import AboutSection from "../components/AboutSection.astro";
import JoinSection from "../components/JoinSection.astro";
import SponsorsSection from "../components/SponsorsSection.astro";
import GallerySection from "../components/GallerySection.astro";
import NewsletterSection from "../components/NewsletterSection.astro";
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

// Get the most recent blog posts
const posts = (await getCollection("posts"))
  .sort((a, b) => new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf())
  .slice(0, 3); // Display only the 3 most recent posts

// Sample upcoming events data (to be replaced with real data/API integration)
const upcomingEvents = [
  {
    title: "Monthly Tech Meetup",
    date: "August 15, 2025",
    location: "WeWork, Bandra Kurla Complex",
    description: "Join us for talks on Rust, WebAssembly, and modern web development practices.",
    rsvpLink: "https://meetup.com/hackerspace-mumbai/events/123456789",
    coverImage: "/images/social-preview.jpg",
  },
  {
    title: "Open Source Saturday",
    date: "August 28, 2025",
    location: "Microsoft Reactor, Powai",
    description: "Contribute to open source projects with guidance from experienced maintainers.",
    rsvpLink: "https://meetup.com/hackerspace-mumbai/events/987654321",
    coverImage: "/images/hero-background.jpg",
  }
];

// Sample testimonials
const testimonials = [
  {
    quote: "Hackerspace Mumbai helped me grow as a developer and connect with like-minded tech enthusiasts.",
    author: "Priya S., Software Engineer",
  },
  {
    quote: "The meetups are incredibly informative and welcoming to developers of all skill levels.",
    author: "Raj M., Full Stack Developer",
  }
];

// Sample stats
const stats = {
  yearsRunning: 12,
  meetupsHosted: 110,
  membersCount: "2,500+",
  projectsSupported: 35,
};

// Sample sponsors
const sponsors = [
  { name: "Microsoft", logo: "microsoft.png" },
  { name: "Google", logo: "google.png" },
  { name: "DigitalOcean", logo: "digitalocean.png" },
];

// SEO and social sharing metadata
export const title = "Hackerspace Mumbai - Mumbai's Largest Open Source Community";
export const description = "Hackerspace Mumbai is the largest open source community in Mumbai, hosting the city's longest-running tech meetup. Join us for events, workshops, and collaborative learning!";
---

<Layout title={title} description={description}>
  <style>
    .hero {
      background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.9)), url('/hero-background.jpg');
      background-size: cover;
      background-position: center;
    }
    
    .card {
      transition: transform 0.3s ease;
    }
    
    .card:hover {
      transform: translateY(-5px);
    }
    
    .stats-item {
      border-right: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .stats-item:last-child {
      border-right: none;
    }
  </style>

  <HeroSection />

  <EventsSection events={upcomingEvents} />

  <BlogSection posts={posts} />

  <AboutSection stats={stats} testimonials={testimonials} />

  <JoinSection />

  <SponsorsSection sponsors={sponsors} />

  <GallerySection />

  <NewsletterSection />
</Layout>
